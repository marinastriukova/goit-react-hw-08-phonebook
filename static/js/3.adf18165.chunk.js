(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{86:function(t,e,n){t.exports={appear:"Phonebook_appear__-Kn8w",appearActive:"Phonebook_appearActive__38Y-w",enter:"Phonebook_enter__1iOEN",enterActive:"Phonebook_enterActive__hC_QM",exit:"Phonebook_exit__3_IhI",exitActive:"Phonebook_exitActive__3QeFA"}},91:function(t,e,n){t.exports={section:"Section_section__2hXyN",title:"Section_title__2QNjx",appear:"Section_appear__18j4D",appearActive:"Section_appearActive__2GgWt"}},92:function(t,e,n){t.exports={form:"Form_form__2j7t2",formLabel:"Form_formLabel__1u-yH",formInput:"Form_formInput__3FGAs",formButton:"Form_formButton__1uytw"}},93:function(t,e,n){t.exports={list:"ContactsList_list__2Cdxn","item-appear":"ContactsList_item-appear__2uDSt","item-appearActive":"ContactsList_item-appearActive__1QON0","item-enter":"ContactsList_item-enter__-cNpD","item-enterActive":"ContactsList_item-enterActive__1TVCj","item-exit":"ContactsList_item-exit__2A7hH","item-exitActive":"ContactsList_item-exitActive__3TK3S",items:"ContactsList_items__3pTwF",button:"ContactsList_button__28O5v"}},94:function(t,e,n){t.exports={label:"Filter_label__2gqFx",input:"Filter_input__386CY"}},95:function(t,e,n){t.exports={alert:"ErrorMessage_alert__8K5zL"}},99:function(t,e,n){"use strict";n.r(e);var a=n(3),r=n(36),c=n(37),o=n(39),i=n(38),s=n(0),u=n(91),l=n.n(u),m=n(100),b=n(86),p=n.n(b),f=n(1);var h=function(t){var e=t.title,n=t.children;return Object(f.jsxs)("div",{className:l.a.section,children:[Object(f.jsx)(m.a,{in:!0,appear:!0,timeout:500,classNames:p.a,unmountOnExit:!0,children:Object(f.jsx)("h1",{className:l.a.title,children:e})}),n]})},j=n(92),_=n.n(j);function d(t){var e=t.name,n=void 0===e?"":e,a=t.number,r=void 0===a?0:a,c=t.onChangeInput,o=t.onSubmitForm;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:_.a.form,onSubmit:o,children:[Object(f.jsxs)("label",{className:_.a.formLabel,children:["Name",Object(f.jsx)("input",{name:"name",type:"text",className:_.a.formInput,value:n,onChange:c,required:!0})]}),Object(f.jsxs)("label",{className:_.a.formLabel,children:["Number",Object(f.jsx)("input",{name:"number",type:"text",className:_.a.formInput,value:r,onChange:c,required:!0})]}),Object(f.jsx)("button",{type:"submit",className:_.a.formButton,children:"Add contact"})]})})}var x=n(93),v=n.n(x),O=n(101),C=n(8),g=n(18),N=n.n(g),A=n(24),F=n(21),L=n.n(F),k=n(16),S=k.a.fetchItemsRequest,w=k.a.fetchItemsSuccess,y=k.a.fetchItemsError,I=k.a.addContactRequest,E=k.a.addContactSuccess,P=k.a.addContactError,q=k.a.deleteContactRequest,D=k.a.deleteContactSuccess,R=k.a.deleteContactError,T=function(){return function(){var t=Object(A.a)(N.a.mark((function t(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(S()),L.a.get("/contacts").then((function(t){var n=t.data;return e(w(n))})).catch((function(t){return e(y(t.message))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Q=function(t,e){return function(n){var a={name:t,number:e};n(I()),L.a.post("/contacts",a).then((function(t){var e=t.data;return n(E(e))})).catch((function(t){return n(P(t.message))}))}},B=function(t){return function(e){e(q()),L.a.delete("/contacts/".concat(t)).then((function(){return e(D(t))})).catch((function(t){return e(R(t.message))}))}},K=n(27),M=function(t){return t.contacts.items},V=function(t){return t.contacts.filter},G={getAllContacts:M,getFilter:V,getLoading:function(t){return t.contacts.loading},getVisibleContacts:Object(K.a)([M,V],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))};var H=Object(C.b)((function(t){return{contacts:G.getVisibleContacts(t)}}),(function(t){return{onRemove:function(e){return t(B(e))}}}))((function(t){var e=t.contacts,n=t.onRemove;return Object(f.jsx)(O.a,{component:"ul",className:v.a.list,children:0===e.length?Object(f.jsx)(m.a,{in:0===e.length,timeout:250,classNames:p.a,unmountOnExit:!0,children:Object(f.jsx)("p",{children:"Add contacts please"})}):e.map((function(t){return Object(f.jsx)(m.a,{in:!0,appear:!0,timeout:250,classNames:p.a,unmountOnExit:!0,children:Object(f.jsxs)("li",{className:v.a.items,children:[Object(f.jsxs)("p",{children:[Object(f.jsxs)("span",{children:[t.name,": "]}),Object(f.jsx)("span",{children:t.number})]}),Object(f.jsx)("button",{className:v.a.button,onClick:function(){return n(t.id)},children:"Delete"})]})},t.id)}))})})),J=n(94),Y=n.n(J);var z=Object(C.b)((function(t){return{value:G.getFilter(t),items:G.getAllContacts(t)}}),(function(t){return{onChangeFilter:function(e){return t(k.a.changeFilter(e))}}}))((function(t){var e=t.value,n=t.onChangeFilter,a=t.items;return Object(f.jsx)(m.a,{in:a.length>0,timeout:250,classNames:p.a,unmountOnExit:!0,children:Object(f.jsxs)("label",{className:Y.a.label,children:["Find contacts by name",Object(f.jsx)("input",{type:"text",value:e,onChange:function(t){return n(t.target.value)},className:Y.a.input})]})})})),W=n(95),X=n.n(W);function U(){return Object(f.jsx)("p",{className:X.a.alert,children:"This contact is already in phonebook"})}var Z=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={name:"",number:"",filter:"",error:""},t.onInputChange=function(e){t.setState(Object(a.a)({},e.target.name,e.target.value))},t.submitForm=function(e){if(e.preventDefault(),t.props.contacts.find((function(e){return e.name.toLowerCase()===t.state.name.toLowerCase()})))return t.setState({error:!0}),void setTimeout((function(){t.setState({error:!1})}),2e3);var n=t.state,a=n.name,r=n.number;t.props.onAddContact(a,r),t.reset()},t.reset=function(){t.setState({name:"",number:""})},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(h,{title:"Phonebook",children:Object(f.jsx)(d,{name:this.state.name,number:this.state.number,onChangeInput:this.onInputChange,onSubmitForm:this.submitForm})}),Object(f.jsxs)(h,{title:"Contacts",children:[Object(f.jsx)(m.a,{timeout:250,classNames:p.a,children:Object(f.jsx)(z,{})}),Object(f.jsx)(m.a,{timeout:500,children:Object(f.jsx)(H,{})}),Object(f.jsx)(m.a,{in:!0===this.state.error,timeout:1e3,classNames:p.a,unmountOnExit:!0,children:Object(f.jsx)(U,{})})]})]})}}]),n}(s.Component);e.default=Object(C.b)((function(t){return{contacts:G.getAllContacts(t)}}),(function(t){return{fetchContacts:function(){return t(T())},onAddContact:function(e,n){return t(Q(e,n))}}}))(Z)}}]);
//# sourceMappingURL=3.adf18165.chunk.js.map